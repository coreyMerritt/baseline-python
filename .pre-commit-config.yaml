repos:
  - repo: local
    hooks:
      - id: early-sudo-prompt   # This exists to invoke sudo immediately, to stop mid-pipeline permissions timeouts
        name: early-sudo-prompt
        entry: bash -c "sudo -k; sudo true"
        language: system
        always_run: true
        pass_filenames: false
        stages: [pre-push]
      - id: run-linters
        name: run-linters
        entry: ./tests/system/run-linters.sh
        language: script
        always_run: true
        pass_filenames: false
        stages: [pre-push]
      - id: run-unit-tests
        name: run-unit-tests
        entry: ./tests/system/run-unit-tests.sh
        language: script
        always_run: true
        pass_filenames: false
        stages: [pre-push]
      - id: system-starts
        name: system-starts
        entry: ./tests/system/api/system-starts.sh
        language: script
        always_run: true
        pass_filenames: false
        stages: [pre-push]
      - id: health-check
        name: health-check
        entry: ./tests/system/api/health-check.sh
        language: script
        always_run: true
        pass_filenames: false
        stages: [pre-push]
      - id: post-and-get-account
        name: post-and-get-account
        entry: ./tests/system/api/post-and-get-account.sh
        language: script
        always_run: true
        pass_filenames: false
        stages: [pre-push]
